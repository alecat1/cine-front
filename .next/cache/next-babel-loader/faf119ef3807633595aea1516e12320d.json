{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lopezvalenzuela.16\\\\Documents\\\\GitHub\\\\tp-tiktok-front\\\\src\\\\components\\\\bubble\\\\bubble.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { Cookies } from 'react-cookie';\nimport axios from 'axios';\nimport './bubble.css';\nimport Local from '../../local';\nimport Global from '../../global';\nimport swal from 'sweetalert';\n\nvar jwtDecode = require('jwt-decode');\n\nconst cookies = new Cookies();\n\nconst Bubble = () => {\n  const {\n    0: state,\n    1: setState\n  } = useState();\n  const {\n    0: params,\n    1: setParams\n  } = useState();\n  useEffect(() => {\n    (async () => {\n      const token = await cookies.get('token');\n      let decoded;\n\n      if (token != undefined) {\n        decoded = jwtDecode(token);\n        setParams(decoded.id);\n      }\n\n      try {\n        const res = await axios.post(Global.url + 'home', {\n          headers: {\n            'access-token': token,\n            'key-token': 'codekey:!m@!K3CjDz*NdInr7Q773u3hj*G%5Kl$zZ^%Uz%Z5v#jf2humR'\n          }\n        });\n      } catch (err) {}\n\n      decoded && axios.post(Global.url + 'actual-state', {\n        ccms: decoded.id\n      }).then(res => {\n        res.status === 204 ? setState(true) : setState(false);\n      }).catch(err => {\n        window.location.reload();\n      });\n    })();\n  }, [state]);\n  return state ? __jsx(\"div\", {\n    tag: \"a\",\n    className: \"bubble-page rotate-in-center\",\n    onClick: () => {\n      axios.post(Global.url + 'delete-state', {\n        ccms: params\n      }).then(() => {\n        let url = Local.url + 'news';\n        location.href = url;\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"!!!\")) : null;\n};\n\nexport default Bubble;","map":{"version":3,"sources":["C:/Users/lopezvalenzuela.16/Documents/GitHub/tp-tiktok-front/src/components/bubble/bubble.js"],"names":["React","useEffect","useState","Cookies","axios","Local","Global","swal","jwtDecode","require","cookies","Bubble","state","setState","params","setParams","token","get","decoded","undefined","id","res","post","url","headers","err","ccms","then","status","catch","window","location","reload","href"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AACA,IAAIC,SAAS,GAAGC,OAAO,CAAC,YAAD,CAAvB;;AACA,MAAMC,OAAO,GAAG,IAAIP,OAAJ,EAAhB;;AAEA,MAAMQ,MAAM,GAAG,MAAM;AACnB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBX,QAAQ,EAAlC;AACA,QAAM;AAAA,OAACY,MAAD;AAAA,OAASC;AAAT,MAAsBb,QAAQ,EAApC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,KAAC,YAAY;AACX,YAAMe,KAAK,GAAG,MAAMN,OAAO,CAACO,GAAR,CAAY,OAAZ,CAApB;AACA,UAAIC,OAAJ;;AACA,UAAIF,KAAK,IAAIG,SAAb,EAAwB;AACtBD,QAAAA,OAAO,GAAGV,SAAS,CAACQ,KAAD,CAAnB;AACAD,QAAAA,SAAS,CAACG,OAAO,CAACE,EAAT,CAAT;AACD;;AACD,UAAI;AACF,cAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAN,CAAWhB,MAAM,CAACiB,GAAP,GAAa,MAAxB,EAAgC;AAChDC,UAAAA,OAAO,EAAE;AACP,4BAAgBR,KADT;AAEP,yBAAa;AAFN;AADuC,SAAhC,CAAlB;AAMD,OAPD,CAOE,OAAOS,GAAP,EAAY,CAAE;;AAChBP,MAAAA,OAAO,IACLd,KAAK,CACFkB,IADH,CACQhB,MAAM,CAACiB,GAAP,GAAa,cADrB,EACqC;AACjCG,QAAAA,IAAI,EAAER,OAAO,CAACE;AADmB,OADrC,EAIGO,IAJH,CAISN,GAAD,IAAS;AACbA,QAAAA,GAAG,CAACO,MAAJ,KAAe,GAAf,GAAqBf,QAAQ,CAAC,IAAD,CAA7B,GAAsCA,QAAQ,CAAC,KAAD,CAA9C;AACD,OANH,EAOGgB,KAPH,CAOUJ,GAAD,IAAS;AACdK,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,OATH,CADF;AAWD,KA1BD;AA2BD,GA5BQ,EA4BN,CAACpB,KAAD,CA5BM,CAAT;AA8BA,SAAOA,KAAK,GACV;AACE,IAAA,GAAG,EAAC,GADN;AAEE,IAAA,SAAS,EAAC,8BAFZ;AAGE,IAAA,OAAO,EAAE,MAAM;AACbR,MAAAA,KAAK,CACFkB,IADH,CACQhB,MAAM,CAACiB,GAAP,GAAa,cADrB,EACqC;AACjCG,QAAAA,IAAI,EAAEZ;AAD2B,OADrC,EAIGa,IAJH,CAIQ,MAAM;AACV,YAAIJ,GAAG,GAAGlB,KAAK,CAACkB,GAAN,GAAY,MAAtB;AACAQ,QAAAA,QAAQ,CAACE,IAAT,GAAgBV,GAAhB;AACD,OAPH;AAQD,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAdF,CADU,GAiBR,IAjBJ;AAkBD,CApDD;;AAsDA,eAAeZ,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Cookies } from 'react-cookie';\r\nimport axios from 'axios';\r\nimport './bubble.css';\r\nimport Local from '../../local';\r\nimport Global from '../../global';\r\nimport swal from 'sweetalert';\r\nvar jwtDecode = require('jwt-decode');\r\nconst cookies = new Cookies();\r\n\r\nconst Bubble = () => {\r\n  const [state, setState] = useState();\r\n  const [params, setParams] = useState();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const token = await cookies.get('token');\r\n      let decoded;\r\n      if (token != undefined) {\r\n        decoded = jwtDecode(token);\r\n        setParams(decoded.id)\r\n      }\r\n      try {\r\n        const res = await axios.post(Global.url + 'home', {\r\n          headers: {\r\n            'access-token': token,\r\n            'key-token': 'codekey:!m@!K3CjDz*NdInr7Q773u3hj*G%5Kl$zZ^%Uz%Z5v#jf2humR',\r\n          },\r\n        });\r\n      } catch (err) {}\r\n      decoded &&\r\n        axios\r\n          .post(Global.url + 'actual-state', {\r\n            ccms: decoded.id,\r\n          })\r\n          .then((res) => {\r\n            res.status === 204 ? setState(true) : setState(false);\r\n          })\r\n          .catch((err) => {\r\n            window.location.reload();\r\n          });\r\n    })();\r\n  }, [state]);\r\n\r\n  return state ? (\r\n    <div\r\n      tag='a'\r\n      className='bubble-page rotate-in-center'\r\n      onClick={() => {\r\n        axios\r\n          .post(Global.url + 'delete-state', {\r\n            ccms: params,\r\n          })\r\n          .then(() => {\r\n            let url = Local.url + 'news';\r\n            location.href = url;\r\n          });\r\n      }}\r\n    >\r\n      <p>!!!</p>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default Bubble;\r\n"]},"metadata":{},"sourceType":"module"}